typeWriterContainer=[];typeWriterTimeouts=[];
window.typeWriter=function(a,f){function i(){for(var j=0;j<typeWriterTimeouts[a.twID].length;j++)window.clearTimeout(typeWriterTimeouts[a.twID][j])}a.twID==null?a.twID=1:a.twID=a.twID;f==null?f="clear":f=f;if(!a.text&&f=="clear")throw Error("TypeWriter argument 'text' is undefined!");if(!a.id&&f=="clear")throw Error("TypeWriter argument 'id' is undefined!");typeWriterTimeouts[a.twID]||(typeWriterTimeouts[a.twID]=[]);if(f=="clear"){i();document.getElementById(a.id).innerHTML=""}if(f=="stop")i();else{f==
"add"&&i();a.delay=a.time?a.time/a.text.length:a.delay||50;a.id=a.id.indexOf("#")>=0?a.id=a.id.substring(1,a.id.length):a.id;typeWriterContainer[a.twID]=document.getElementById(a.id);for(var d={},e=0,b=0;e<a.text.length;){var c=a.text.substr(e+1,1);if(a.text.substr(e,1)!="["&&(c!="#"||c!="&")){if(!d["text"+b]){d["text"+b]={};d["text"+b].phrase=""}d["text"+b].phrase+=a.text.substr(e,1);numberOfPhrases=b;e++}else{d["text"+b]&&b++;var g=a.text.substr(e).split("[/"+c+"]")[0].split("]")[1],h=a.text.substr(e).split(g+
"[/"+c+"]")[0].split("["+c+"")[1].split("]")[0];d["text"+b]={};d["text"+b].phrase=g;d["text"+b][c=="#"?"style":"class"]=h;e+=("["+c+""+h+"]"+g+"[/"+c+"]").length;numberOfPhrases=b;b++}}b=h=c=0;for(textPart in d){for(e=0;e<d["text"+b].phrase.length;e++){g=d["text"+b].phrase.substr(e,1);c+=a.delay+h;h=0;switch(g){case "\n":typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+a.twID+'].innerHTML+="<br/>"',c));case "\u0000":h=a.delay*2;break;case "\u0008":typeWriterTimeouts[a.twID].push(setTimeout(function(){if(typeWriterContainer[a.twID].lastChild.nodeValue==
null)typeWriterContainer[a.twID].removeChild(typeWriterContainer[a.twID].lastChild);else typeWriterContainer[a.twID].innerHTML=typeWriterContainer[a.twID].innerHTML.substr(0,typeWriterContainer[a.twID].innerHTML.length-1)},c));break;case " ":typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+a.twID+'].innerHTML+=" "',c));break;case "\t":typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+a.twID+'].innerHTML+="&emsp;&emsp;&emsp;"',c));break;default:if(d["text"+b].style)typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+
a.twID+"].innerHTML+='<span style=\""+d["text"+b].style+'">'+g+"</span>'",c));else d["text"+b]["class"]?typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+a.twID+"].innerHTML+='<span class=\""+d["text"+b]["class"]+'">'+g+"</span>'",c)):typeWriterTimeouts[a.twID].push(setTimeout("typeWriterContainer["+a.twID+'].innerHTML+="'+g+'"',c))}}b++}}};